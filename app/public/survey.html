<!DOCTYPE html>
<html>

<head>
  <title>FriendFinder</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Add in any links to external JS and/or CSS files here -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
  <div class='container'>
    <div class="row">
      <h2> Survey Questions</h2>
      <h3><strong>About You</strong></h3>
      <h4>Name (Required)</h4>
      <input type="text" name="" id="name" class="label-control form-control" required="">
      <h4>Link to Photo Image (Required)</h4>
      <input type="text" name="" id="photo" class="label-control form-control" required="">
      <hr>
    </div>
    <div id="question1">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Question 1               -->
        <!--************************************************-->
        <h3><strong>Question 1</strong></h3>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q1" id="q1-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q1" id="q1-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q1" id="q1-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q1" id="q1-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q1" id="q1-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question2">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 2              -->
        <!--************************************************-->
        <h3><strong>Question 2</strong></h3>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q2" id="q2-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q2" id="q2-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q2" id="q2-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q2" id="q2-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q2" id="q2-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question3">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 3              -->
        <!--************************************************-->
        <h3><strong>Question 3</strong></h3>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q3" id="q3-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q3" id="q3-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q3" id="q3-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q3" id="q3-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q3" id="q3-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question4">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 4              -->
        <!--************************************************-->
        <h3><strong>Question 4</strong></h3>
        <h4>You rarely do something just out of sheer curiosity.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q4" id="q4-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q4" id="q4-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q4" id="q4-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q4" id="q4-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q4" id="q4-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question5">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 5              -->
        <!--************************************************-->
        <h3><strong>Question 5</strong></h3>
        <h4>People can rarely upset you.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q5" id="q5-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q5" id="q5-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q5" id="q5-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q5" id="q5-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q5" id="q5-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question6">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 6              -->
        <!--************************************************-->
        <h3><strong>Question 6</strong></h3>
        <h4>It is often difficult for you to relate to other peopleâ€™s feelings.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q6" id="q6-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q6" id="q6-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q6" id="q6-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q6" id="q6-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q6" id="q6-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question7">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 7              -->
        <!--************************************************-->
        <h3><strong>Question 7</strong></h3>
        <h4>In a discussion, truth should be more important than peopleâ€™s sensitivities.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q7" id="q7-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q7" id="q7-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q7" id="q7-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q7" id="q7-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q7" id="q7-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question8">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 8              -->
        <!--************************************************-->
        <h3><strong>Question 8</strong></h3>
        <h4>You rarely get carried away by fantasies and ideas.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q8" id="q8-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q8" id="q8-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q8" id="q8-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q8" id="q8-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q8" id="q8-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question9">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 9              -->
        <!--************************************************-->
        <h3><strong>Question 9</strong></h3>
        <h4>You think that everyoneâ€™s views should be respected regardless of whether they are supported by facts or not.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q9" id="q9-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q9" id="q9-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q9" id="q9-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q9" id="q9-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q9" id="q9-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="question10">
      <div class=row>
        <!--************************************************-->
        <!--              Start of Questions 10              -->
        <!--************************************************-->
        <h3><strong>Question 10</strong></h3>
        <h4>You feel more energetic after spending time with a group of people.</h4>
      </div>
      <div class="row">
        <div class="col-sm-3">
          Strongly Disagree
        </div>
        <div class="col-sm-2">
          Strongly Agree
        </div>
      </div>
      <div class=row>
        <div class="form-group">
          <form>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="1" type="radio" name="q10" id="q10-1">1
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="2" type="radio" name="q10" id="q10-2">2
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="3" type="radio" name="q10" id="q10-3">3
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="4" type="radio" name="q10" id="q10-4">4
              </label>
            </div>
            <div class="col-sm-1">
              <label class="radio-inline">
                <input class="label-control" value="5" type="radio" name="q10" id="q10-5">5
              </label>
            </div>
          </form>
        </div>
      </div>
    </div>
    <br>
    <button type="submit" class="btn btn-primary btn-lg" id="submit">
      SUBMIT
    </button>
    <footer class='footer'>
      <div class="container">
        <a href="/api/friends">API Friends List </a>
      </div>
    </footer>
  </div>
  <div id='resultsModal' class='modal fade' role='dialog'>
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">x
          </button>
          <h2 class="modal-title">
  <strong>Best Match</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id='matchName'></h2>
          <img id='matchImg' width="400" src="" alt>
        </div>
        <div class="modal-footer">
          <button type="buttong" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
  // Capture the form inputs 
  $("#submit").on("click", function(event) {
    event.preventDefault();
    // Form validation
    function validateForm() {
      var isValid = true;
      $('.label-control').each(function() {
        if ($(this).val() === '')
          isValid = false;

        for (i = 1; i <= 10; i++) {
          if (isValid === false) { break; }
          isValid = false;
          for (j = 1; j <= 5; j++) {
            if ($("#q" + i + "-" + j).val()) {
              if ($("#q" + i + "-" + j).is(":checked") === true) {
                isValid = true;
              }
            } else {
              isValid = true;
            }
          }
        }
      });

      return isValid;
    }

    if (validateForm() == true) {
      // Create an object for the user's data
      var userData = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: []
      }
      for (i = 1; i <= 10; i++) {
        for (j = 1; j <= 5; j++) {
          if ($("#q" + i + "-" + j).is(":checked") === true) {
            var temp = $("#q" + i + "-" + j).val();
            if (temp) { userData.scores.push(temp); }
          }
        }
      }

      // If all required fields are filled
      // console.log(userData.name + "," + userData.photo + "," + (userData.scores).toString());
      // Grab the URL of the website
      var currentURL = window.location.origin;

      // AJAX post the data to the friends API. 
      $.post(currentURL + "/api/friends", userData, function(data) {

        // Grab the result from the AJAX post so that the best match's name and photo are displayed.
        console.log(data.name + "," + data.photo);
        $("#matchName").text(data.name);
        $('#matchImg').attr("src", data.photo);

        // Show the modal with the best match 
        $("#resultsModal").modal('toggle');

      });
    } else {
      alert("Please fill out all fields before submitting!");
    }

    return false;
  });
  </script>
</body>

</html>